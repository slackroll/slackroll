<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<meta name="description" content="Package or update manager for Slackware systems" />
<meta name="keywords" content="slackroll,slackware,package manager,update manager" />
<title>slackroll: package or update manager for Slackware systems</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


/*
 * Theme specific overrides of the preceding (asciidoc.css) CSS.
 *
 */
body {
  font-family: Garamond, Georgia, serif;
  font-size: 17px;
  color: #3E4349;
  line-height: 1.3em;
}
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Garmond, Georgia, serif;
  font-weight: normal;
  border-bottom-width: 0;
  color: #3E4349;
}
div.title, caption.title { color: #596673; font-weight: bold; }
h1 { font-size: 240%; }
h2 { font-size: 180%; }
h3 { font-size: 150%; }
h4 { font-size: 130%; }
h5 { font-size: 115%; }
h6 { font-size: 100%; }
#header h1 { margin-top: 0; }
#toc {
  color: #444444;
  line-height: 1.5;
  padding-top: 1.5em;
}
#toctitle {
  font-size: 20px;
}
#toc a {
    border-bottom: 1px dotted #999999;
    color: #444444 !important;
    text-decoration: none !important;
}
#toc a:hover {
    border-bottom: 1px solid #6D4100;
    color: #6D4100 !important;
    text-decoration: none !important;
}
div.toclevel1 { margin-top: 0.2em; font-size: 16px; }
div.toclevel2 { margin-top: 0.15em; font-size: 14px; }
em, dt, td.hdlist1 { color: black; }
strong { color: #3E4349; }
a { color: #004B6B; text-decoration: none; border-bottom: 1px dotted #004B6B; }
a:visited { color: #615FA0; border-bottom: 1px dotted #615FA0; }
a:hover { color: #6D4100; border-bottom: 1px solid #6D4100; }
div.tableblock > table, table.tableblock { border: 3px solid #E8E8E8; }
th.tableblock, td.tableblock { border: 1px solid #E8E8E8; }
ul > li > * { color: #3E4349; }
pre, tt, .monospaced { font-family: Consolas,Menlo,'Deja Vu Sans Mono','Bitstream Vera Sans Mono',monospace; }
tt, .monospaced { font-size: 0.9em; color: black;
}
div.exampleblock > div.content, div.sidebarblock > div.content, div.listingblock > div.content { border-width: 0 0 0 3px; border-color: #E8E8E8; }
div.verseblock { border-left-width: 0; margin-left: 3em; }
div.quoteblock { border-left-width: 3px; margin-left: 0; margin-right: 0;}
div.admonitionblock td.content { border-left: 3px solid #E8E8E8; }


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://rg3.github.io/slackroll/slackroll.rss">
</head>
<body class="article">
<div id="header">
<h1>slackroll</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Latest release is
<a href="https://github.com/rg3/slackroll/releases/download/v48/slackroll-v48-noarch-1.tgz">slackroll
v48</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_target_audience">Target audience</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>slackroll</code> is a package or update manager for Slackware systems. It does not
provide dependency checking and uses <code>pkgtools</code> to install or upgrade
packages. It&#8217;s designed to work with official mirrors and third-party
repositories. If you have a Slackware system mainly composed of official
packages, unofficial packages and a few custom packages, <code>slackroll</code> can help
you manage it and keep in touch with the remote trees. It tries to know when
new packages appear, when packages are removed and when packages are upgraded.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_before_you_start">Before you start</h2>
<div class="sectionbody">
<div class="paragraph"><p>So you have decided to try <code>slackroll</code>. Let me introduce a few concepts so you
don&#8217;t get lost.</p></div>
<div class="sect2">
<h3 id="_packages">Packages</h3>
<div class="paragraph"><p>In the following text I&#8217;m going to be talking about packages. For package, we
are going to understand a <em>named piece of software</em>, without having any
specific version unless I explicitly mention it. A package can be <code>bash</code> or
<code>kdewebdev</code> or <code>gcc-gfortran</code>, for example.</p></div>
</div>
<div class="sect2">
<h3 id="_states">States</h3>
<div class="paragraph"><p>Each package is in one of several possible states. The program tries to keep a
persistent database that associates each package with its state. When it runs,
it analyzes the list of packages present in your system, the list of remote
packages, and tries to keep the persistent database updated by introducing new
entries, deleting old ones and changing the state of some of those entries.</p></div>
<div class="paragraph"><p>There are several possible states for a package, divided in two groups. First,
we have <strong>transient states</strong>. As a user, your job is to make sure no packages
remain in those states for long periods of time. Second, we have the normal
states, in which the different packages should normally be.</p></div>
</div>
<div class="sect2">
<h3 id="_transient_states_to_be_avoided">Transient states (to be avoided)</h3>
<div class="sect3">
<h4 id="_new">NEW</h4>
<div class="paragraph"><p>A package is in this state when it&#8217;s present in a remote tree and it wasn&#8217;t
present before. If you detect you have packages in this state you should
decide if you want to install them or mark them as not installed. This state
lets you see which packages are being added to remote trees.</p></div>
</div>
<div class="sect3">
<h4 id="_unavailable">UNAVAILABLE</h4>
<div class="paragraph"><p>Sorry if this name is somehow confusing. A package is in this state when it&#8217;s
present in your system, but not in a remote tree. You should decide if you
want to remove them from your system or mark them as foreign packages. This
state lets you see which packages are being removed from remote trees.</p></div>
</div>
<div class="sect3">
<h4 id="_outdated">OUTDATED</h4>
<div class="paragraph"><p>A package is outdated if it&#8217;s present in your system and in a remote tree, but
the local version does not match any relevant remote one. The program will try
to upgrade these packages.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_normal_states">Normal states</h3>
<div class="sect3">
<h4 id="_installed">INSTALLED</h4>
<div class="paragraph"><p>A package is installed if it&#8217;s present in your system and in the remote tree,
and the local version is not outdated. Very common state, as you can suppose.</p></div>
</div>
<div class="sect3">
<h4 id="_not_installed">NOT INSTALLED</h4>
<div class="paragraph"><p>A package is not installed if it&#8217;s a known package which is not present in
your system but exists in a remote tree. It&#8217;s also a very common state.</p></div>
</div>
<div class="sect3">
<h4 id="_frozen">FROZEN</h4>
<div class="paragraph"><p>No package will enter the frozen state unless you mark it so. It should be
used for packages present in your system and in a remote tree, but that you
don&#8217;t want to upgrade automatically. This state can be used for packages which
are not meant to be upgraded automatically or ever, like <code>aaa_elflibs</code> and
others, and probably for customized versions of official packages. For
example, my custom build of <code>freetype</code> is marked as frozen. You must pay
attention to these packages, as upgrades to them will be silently ignored. You
may find the <code>list-versions</code> and <code>list-outdated-frozen</code> operations useful to
detect version mismatches between your local copy and the ones in remote
trees. Having a package in the frozen state does not prevent you from using
the install operation to download and install a different version. If the
package ever disappears from the remote trees, it will be marked as
unavailable and you will probably see it. You could continue to use it by
marking it as foreign if you wish.</p></div>
</div>
<div class="sect3">
<h4 id="_foreign">FOREIGN</h4>
<div class="paragraph"><p>No package will enter the foreign state unless you mark it so. It should be
used for packages that exist in your system but do not have a known remote
origin. For example, the <code>slackroll</code> package in my system is marked as
foreign. A foreign package will be marked as installed or outdated if it ever
appears in a remote tree, usually becoming a candidate for upgrading.
Hopefully, you&#8217;ll notice this fact. You could still use your own version
instead of the remote one by marking it as frozen.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_trees">Remote trees</h3>
<div class="paragraph"><p><code>slackroll</code> works with two types of remote trees. It needs a <strong>mirror</strong>, which
is a URL pointing to a replica of the official Slackware package tree for the
Slackware version you&#8217;re using. There can be only one mirror and it&#8217;s selected
with the <code>set-mirror</code> operation, as you will see later.</p></div>
<div class="paragraph"><p>In addition, <code>slackroll</code> can work with a number of additional <strong>third-party
repositories</strong>. These are managed with the <code>add-repo</code>, <code>list-repos</code> and
<code>remove-repo</code> operations, and they will be explained later.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_slackroll">Get slackroll</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="https://github.com/rg3/slackroll/releases/latest">slackroll</a> is a
self-contained Python script released to the public domain. You can download a
premade package if available from Github, or grab the source code of the
master branch or any tagged releases as a ZIP archive or by cloning the
repository.</p></div>
<div class="paragraph"><p>If you use the source, run the SlackBuild script from the source directory as
root. This will create a package you can install with <code>installpkg</code> for the
first time. In the future, you can use <code>upgradepkg</code> or even <code>slackroll</code> itself
to install newer package versions. Continue reading for more details.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>slackroll</code> requires <code>python</code>, <code>pkgtools</code>, <code>gnupg</code> (or <code>gnupg2</code>), an editor
and diff tool (which are <code>vim</code> and <code>vimdiff</code> by default (provided by package
<code>vim</code>), and a pager (<code>less</code> by default) to operate properly.</p></div>
<div class="paragraph"><p>It should be noted that you can start using <code>slackroll</code> whenever you want, but
my advice is to do it when your system is under control and there are no
upgrades pending. This will give you a chance of configuring the program and
setting the package states properly without making serious mistakes.</p></div>
<div class="paragraph"><p>You should first choose a Slackware mirror. In case your mirror of choice
offers access using both FTP and HTTP, prefer HTTP. Take into account
<code>slackroll</code> will store downloaded packages in a subdirectory of
<code>/var/slackroll</code>, so you will probably need to have a good amount of space
available for them in there. Set the mirror URL with the <code>set-mirror</code>
operation. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll set-mirror 'http://example.org/slackware-current/'</code></pre>
</div></div>
<div class="paragraph"><p>Great. You are ready to start. Retrieve the remote GPG key to add it to your
key ring. Having the GPG key is required, and it should be safe to do this
step even if the key is already in your key ring. You can also get the key
from the Slackware CD or DVD. The GPG key and the official package signatures
will be downloaded from a primary mirror instead of the mirror you chose, in
order to increase security.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll import-key</code></pre>
</div></div>
<div class="paragraph"><p>Retrieve information about the remote packages. You&#8217;ll have to perform this
step every time a remote tree changes.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll update</code></pre>
</div></div>
<div class="paragraph"><p>Finally, you could start checking if there are new packages, unavailable
packages or upgrades. However, the first time you use <code>slackroll</code>, any package
not installed in your system will be marked as new, every foreign package will
be marked as unavailable, and every customized package will probably be a
candidate for upgrading if you try to do so. If you have your system under
control (and I hope you do!), you can in most cases blindly mark all new
packages as not installed. There&#8217;s a command to do it, being a common first
operation.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll new-not-installed</code></pre>
</div></div>
<div class="paragraph"><p>In most cases, you can also mark any unavailable packages as foreign.
However, the number of foreign packages is usually quite low, and forgetting
to uninstall a package which has been removed is a very common mistake, so my
advice is to review the list of unavailable packages by hand, detecting which
ones may not be foreign packages and need to be uninstalled.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll list-unavailable</code></pre>
</div></div>
<div class="paragraph"><p>Once you&#8217;ve got rid of old packages (using <strong>removepkg</strong> or the <code>remove</code>
operation), mark the rest as foreign packages.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll unavailable-foreign</code></pre>
</div></div>
<div class="paragraph"><p>Some people like to &#8220;blacklist&#8221; packages so they are not upgraded normally.
Almost always, you want to do this with the package <code>aaa_elflibs</code> if it&#8217;s
present in your system, and maybe with some other packages. If you don&#8217;t want
them to be upgraded normally, they belong to the frozen state. Mark them as
frozen. The same applies to customized builds of official packages.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>slackroll frozen aaa_elflibs</code></pre>
</div></div>
<div class="paragraph"><p>The frozen operation accepts a list of packages as its arguments. You don&#8217;t
need to issue a separate command for each one of them.</p></div>
<div class="paragraph"><p>Regarding customized versions of official packages, there are at least three
ways of dealing with them. Some people prefer to give them version names that
match the official ones, despite being customized builds, and keep them in the
installed state. The program will want to upgrade them automatically in that
case, and maybe the official version will overwrite the custom one after an
upgrade, before you rebuild it, if you don&#8217;t mark it as frozen in the mean
time. Some other people prefer to do the same but putting the package
permanently in the frozen state. In that case, <code>list-outdated-frozen</code> is
useful to detect version mismatches between your local copy and the remote
ones. Finally, some other people prefer to give them custom version names,
normally via personalized build numbers that usually include some packager
initials, and mark them as frozen. In that case, <code>list-versions</code> can help you
see if your local copy needs to be rebuilt for a new version.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_normal_operation">Normal operation</h2>
<div class="sectionbody">
<div class="paragraph"><p>First off, <code>slackroll help</code> will give you a summary of the most common
operations, plus some advice. You can read a brief description of every
supported operation by running <code>slackroll help all</code>. Finally, you can get
specific help for an operation using <code>slackroll help OPERATION</code>, where
<code>OPERATION</code> is the name of the operation you want to get help for.</p></div>
<div class="paragraph"><p>This program is not a perfect tool. I think it can handle almost every
situation and be told to do exactly what you want, but reading the change log
and subscribing to the <code>slackware-security</code> mailing list is highly
recommended.</p></div>
<div class="paragraph"><p>In any case, the most frequent command you will probably run is <code>slackroll
update</code>, which should be run whenever the remote tree is changed. Then, you
should read the change log with the <code>changelog</code> operation if there are new
entries and, finally, the <code>list-transient</code> operation will provide a summary of
activity. There should be no packages in transient states after you&#8217;re
finished dealing with the changes.</p></div>
<div class="paragraph"><p>Watch out for upgrades in the <code>glibc-solibs</code>, <code>sed</code> and <code>pkgtools</code> packages.
They should (almost) always be the first ones to be installed or upgraded in
that order, even before new packages. You can use the <code>upgrade-key-packages</code>
operation to upgrade them first. The program will try to inform you about
changes in those packages with a noticeable warning.</p></div>
<div class="paragraph"><p>New packages should either be installed selectively with the <code>install</code>
operation or all at the same time with <code>install-new</code>. New packages which will
not be installed should be put in the not-installed state with
<code>not-installed</code>.</p></div>
<div class="paragraph"><p>Outdated packages should be upgraded, normally using the <code>upgrade</code> operation.</p></div>
<div class="paragraph"><p>Unavailable packages could either be foreign packages that you forgot to mark
as such, and should be marked with <code>foreign</code>, or packages which have been
removed from the remote tree. In that case, <code>remove</code> or <code>remove-unavailable</code>
are the operations you will be looking for.</p></div>
<div class="paragraph"><p>When installing or upgrading foreign packages, you can use <strong>installpkg</strong> or
<strong>upgradepkg</strong> and then mark them as foreign if needed. However, you can also
install them using the <code>install-foreign</code> operation to save time and avoid
problems in the future.</p></div>
<div class="paragraph"><p>Also, remember to run the <code>clean-cache</code> operation from time to time to get rid
of old and outdated package archives stored in the package cache.</p></div>
<div class="paragraph"><p>The order described above is the order in which you should proceed in most
cases. However, sometimes it&#8217;s not the correct order. That&#8217;s why it&#8217;s
important to read the change log to detect possible special cases and read
comments by Patrick Volkerding. If you break that order, slackroll will emit a
warning, but it&#8217;s only a warning. The choice of what to do is on you.</p></div>
<div class="sect2">
<h3 id="_kernel_upgrades">Kernel upgrades</h3>
<div class="paragraph"><p>When kernel packages have pending upgrades, you can use two operations created
specifically to handle the situation. <code>kernel-upgrade</code> will install the new
kernel packages using <code>installpkg</code> instead of <code>upgradepkg</code> and then help you
configure your boot loader for the new kernel. This means that, for a small
time period, you will have two versions of the kernel packages installed.
After a successful reboot to the new kernel, you can use the <code>kernel-clean</code>
operation to remove the previous versions of those packages.</p></div>
</div>
<div class="sect2">
<h3 id="_third_party_repositories">Third-party repositories</h3>
<div class="paragraph"><p>As mentioned previously, <code>slackroll</code> can also work with a number of
third-party repositories that would normally contain known but unofficial
packages for the Slackware version you&#8217;re running. If you&#8217;re going to work
with third-party repositories, I recommend adding them after the initial setup
phase described in this tutorial.</p></div>
<div class="paragraph"><p>You can add a new repository with the <code>add-repo</code> operation. Once you&#8217;ve added
all the third-party repositories you want, run the <code>update</code> operation to
retrieve information about remote packages and the <code>list-transient</code> operation
to check the summary of activity.</p></div>
<div class="paragraph"><p>For <code>slackroll</code> to be able to work with a third-party repository, the
repository needs to provide a <code>FILELIST.TXT</code> file in the repository root, and
packages need to be signed with external <code>.asc</code> files like the official ones.
These package signatures will be verified by the program when downloading
packages, which means the signature key needs to be in the superuser&#8217;s
keyring. It&#8217;s very important to note the <code>import-key</code> operation <strong>will not
download GPG keys from third-party repositories as a security measure</strong>. You
need to download the keys by yourself and import them with <code>gpg --import
KEY_FILE</code>, where <code>KEY_FILE</code> is the path to the GPG key file. Then, you will be
able to download and install packages from the repository.</p></div>
<div class="paragraph"><p>The list of third-party repositories can be printed with the <code>list-repos</code>
operation, and you can remove a repository from the list with the
<code>remove-repo</code> operation, by providing the repo number as listed with
<code>list-repos</code>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feedback">Feedback</h2>
<div class="sectionbody">
<div class="paragraph"><p>I&#8217;m all open for good bug reports and general feedback but I&#8217;m, as always,
reluctant to change the main program concepts, like adding dependency support
or probably adding more package states.</p></div>
<div class="paragraph"><p>If you have a question, you should first read the FAQ. For other questions,
comments or suggestions, <a href="http://rg3.name/contact.html">contact me</a> by
email, or report an issue in the
<a href="https://github.com/rg3/slackroll/issues">issue tracker</a>. Keep in mind I&#8217;m
using the program under <code>slackware64-current</code>. If you detect a problem under
another version, please report it as soon as possible because it may go
unnoticed to me.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_frequently_asked_questions">Frequently Asked Questions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_packages_with_nonstandard_names">Packages with nonstandard names</h3>
<div class="paragraph"><p><strong>Question</strong>: While attempting to setup <code>slackroll</code> I get <em>ERROR: Nonstandard
package name: &lt;package&gt;</em>. How can I solve this problem?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: It seems some people are using packages that don&#8217;t follow the
Slackware package name convention of <em>name-version-arch-build</em>. I think it is
wrong to have a package that doesn&#8217;t follow the convention. <code>slackroll</code> needs
to parse the package names to extract the different components. These packages
make it very difficult or impossible, so they are rejected. There is no way to
analyze those names properly in a predictable way. The problem should be
solved by removing that package, renaming the package archive to have a
standard name and then installing it again.</p></div>
<div class="paragraph"><p>Some examples of invalid package names I have seen reported are
<code>pyfloppy-1.6-noarch.2AS</code>, <code>gammapage-0.5.i486-1AS</code> and
<code>scons-0.96.1-1.noarch</code>.</p></div>
<div class="paragraph"><p>Remember: it doesn&#8217;t matter if it&#8217;s an official package or a foreign or custom
one. It should follow the naming convention.</p></div>
</div>
<div class="sect2">
<h3 id="_saving_the_list_of_urls">Saving the list of URLs</h3>
<div class="paragraph"><p><strong>Question</strong>: Using the <code>urls</code> or <code>urls-upgrades</code> operation I want to save the
URL list to a text file. However, if I use shell redirections and <code>slackroll</code>
prompts me to select a specific package version, I can&#8217;t see the questions. Is
there an easy way of doing this?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: Yes. Pipe the output of <code>slackroll</code> to <code>tee urls.txt</code> and then edit
the file to remove the extra lines.</p></div>
</div>
<div class="sect2">
<h3 id="_coordinating_with_rsync">Coordinating with rsync</h3>
<div class="paragraph"><p><strong>Question</strong>: I normally get my packages using rsync, so as to keep a local copy
of the remote tree. Can I coordinate this with <code>slackroll</code>?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: Yes. I would use a script like the following one, replacing the
chunks in curly braces by the appropriate contents.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>SLACKROLL_DIR=/var/slackroll
LOCAL_MIRROR_DIR={ path to local copy of the remote trees }
{ rsync command(s) }
cd $SLACKROLL_DIR
slackroll update
rm -f packages/*
for pkg in $( slackroll remote-paths ); do
    ln -sf $LOCAL_MIRROR_DIR/$pkg ./packages
done</code></pre>
</div></div>
<div class="paragraph"><p>This will synchronize your local copy of the remote trees and then populate
the <code>slackroll</code> package cache with symbolic links to the package archives
located inside your local copy of the Slackware remote trees. From the point
of view of <code>slackroll</code>, it&#8217;s like if it had already downloaded every package.</p></div>
</div>
<div class="sect2">
<h3 id="_environment_variables">Environment variables</h3>
<div class="paragraph"><p><strong>Question</strong>: Which environment variables affect <code>slackroll</code>?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: <code>TMPDIR</code> lets you specify a temporary directory that will be used to
download files before they are moved to their final locations, which is
<code>/var/slackroll/tmp</code> by default. <code>PAGER</code> lets you specify a pager program,
which is <code>less</code> by default. <code>VISUAL</code> lets you specify a visual editor, which
is used to edit single files and is <code>vim</code> by default. <code>SRDIFF</code> lets you
specify the diff tool that will be used to edit and compare pairs of files,
which is <code>vimdiff</code> by default.</p></div>
</div>
<div class="sect2">
<h3 id="_syntax_highlighting_in_vimdiff">Syntax highlighting in vimdiff</h3>
<div class="paragraph"><p><strong>Question</strong>: Is it possible to disable syntax highlighting in <code>vim</code>, but only
when it&#8217;s running in diff mode?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: Yes. Add this to your <code>~/.vimrc</code> file, taken from the <code>vim</code> help
documents:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>if &amp;diff
        syntax off
endif</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_most_frequently_used_operations">Most frequently used operations</h3>
<div class="paragraph"><p><strong>Question</strong>: <code>slackroll</code> has a lot of operations available. Some of them are
mentioned in the tutorial but, in a few words, which operations do you use
more frequently?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: There is a first group of operations everybody will be running very
frequently: <code>update</code>, <code>changelog</code>, <code>list-transient</code> and <code>upgrade</code>. If you use
a few foreign packages you install and upgrade by hand, you could put
<code>install-foreign</code> in that first group too. Some users, specially the ones
running <code>slackware-current</code> like I do, would have a second group of common
operations they run from time to time: <code>clean-cache</code>, <code>install</code>, <code>remove</code>,
<code>remove-unavailable</code>, <code>install-new</code> and <code>not-installed</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_comparing_code_slackroll_code_to_other_tools">Comparing <code>slackroll</code> to other tools</h3>
<div class="paragraph"><p><strong>Question</strong>: What are the differences between <code>slackroll</code> and other tools like
<code>slapt-get</code>, <code>swaret</code> or <code>slackpkg</code>?</p></div>
<div class="paragraph"><p><strong>Answer</strong>: That&#8217;s a hard question which is better answered by exposing the
features of <code>slackroll</code>. In any case, it should be clarified that you can run
two types of Slackware installations. On the one hand you have stable
releases. If you are going to run a stable release any tool will probably be
useful enough for you, including <code>slackroll</code>. This is because stable releases
are easy to manage, given that the only events they are exposed to are the
release of patches. Any of the existing tools can easily tell you which
patches have been released and let you automate the download and installation
process. It is extremely rare, but not impossible, for a package to be added
to or removed from the tree of a stable release.</p></div>
<div class="paragraph"><p>On the other hand, you can be running the rolling release of Slackware which
serves as the testing tree, called slackware(64)-current, or using third-party
repositories. In this case, in my humble opinion, <code>slackroll</code> is the best
tool. This is because <code>slackroll</code> lets you track almost any event happening in
the remote trees, be it packages being added, removed or upgraded, including
the events of a foreign package getting a remote version and the removal of a
package for which a customized version was installed. This is possible thanks
to its package states foundation and the preference for working with two
different states (foreign and frozen) instead of relying on a blacklisting
mechanism. No other tool, as far as I know, can deal with as many events as
<code>slackroll</code>. I&#8217;m unable to imagine an event that is not covered by
<code>slackroll</code>.</p></div>
<div class="paragraph"><p>Apart from the type of Slackware installation you&#8217;re running, there&#8217;s the
issue of using third-party repositories. Starting with version 43 and inspired
by community forks of <code>slackpkg</code>, <code>slackroll</code> added support for external
repositories, and performs a decent job at handling them. This makes it a
viable alternative to <strong>slapt-get</strong> in those situations. Some of those
repositories provide dependency information for packages, which <code>slapt-get</code>
can use, while <code>slackroll</code> doesn&#8217;t use it.</p></div>
<div class="paragraph"><p>Compared to the shell-based <strong>swaret</strong> (there was a new <code>swaret</code> being developed
in Perl), <code>slackroll</code> lacks tracking binary dependencies, but it compensates
that lack by letting you search for files in remote packages with the
manifest-related operations. Apart from that, <code>swaret</code> is incredibly slow and
CPU hungry even when it&#8217;s only downloading files from the network, and doesn&#8217;t
come close to tracking as many events as <code>slackroll</code>. <code>slackroll</code> is, in my
humble opinion, a clear winner over <code>swaret</code> unless you absolutely love the
binary dependency detection and resolution it provides. For me that&#8217;s a minor
feature. The Perl implementation was supposed to be basically the same, but
solving the high CPU usage problem. If that&#8217;s the case, <code>slackroll</code> would
still be a much better option, in my opinion, because <code>swaret</code> still doesn&#8217;t
do <code>glibc</code> upgrades properly, does not detect removed packages, etc.</p></div>
<div class="paragraph"><p><code>slackroll</code>'s closest friend is <strong>slackpkg</strong>, included in the <code>/extra/</code> tree.
You can think of it like a very much improved <code>slackpkg</code> that works faster,
detects more corner cases and has more features. If you run <code>slackpkg</code>, do not
hesitate to give <code>slackroll</code> a try. The main difference between <code>slackpkg</code> and
<code>slackroll</code> is that the latter, like many other package management tools,
keeps a persistent database of packages on disk. For example, <code>slackpkg</code> uses
a reliable method of parsing the change log to detect when a package has been
added, while <code>slackroll</code> downloads FILELIST.TXT and notices which packages are
new because it didn&#8217;t have information on them before. This method also works
with third-party repositories. Another example is <code>slackpkg</code>'s clean-system
operation, which prompts you about packages with are not in any official
package set. This operation helps you remove packages that have been removed
from the official Slackware tree, but you need to blacklist your own packages
if you don&#8217;t want them to appear in the list. <code>slackroll</code>, on the other hand,
can be told those packages are foreign and it <em>remembers</em> that information.</p></div>
<div class="paragraph"><p>Finally, in general, <code>slackroll</code> is at least as fast or faster than any of the
above tools, specially faster than the ones that are big shell scripts
(<code>slackpkg</code> and <code>swaret</code>). It downloads less meta-data than any other, because
it only needs <code>FILELIST.TXT</code> and, for convenience, the new entries from the
change log (indeed, it only downloads the new entries). It detects more
events, which is specially useful when running Slackware&#8217;s rolling release,
<em>slackware(64)-current</em>. And it has some useful features no other tool has,
like the operations to detect orphan files, broken symlinks and missing files.
You won&#8217;t have to run <code>grep</code> on the contents of <code>/var/log/packages</code> anymore,
because it has a local search operation. It lets you download and search the
MANIFEST list for specific files if, for example, you&#8217;re missing a library. It
also lets you choose which package version to install when there are several
ones available. It lets you upgrade individual packages or every upgrade-able
package, install new packages, remove old ones, search for package names or
packages with a given tree component, list alternative versions of packages,
detect and warn you about activity in <code>glibc</code> packages (giving them priority
while upgrading too), etc.</p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2018-03-18 19:00:17 NZDT
</div>
</div>
</body>
</html>
